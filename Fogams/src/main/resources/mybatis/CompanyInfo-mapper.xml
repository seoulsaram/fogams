<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.companyinfo">

	<select id="selectList" resultType="CompanyDto">
		SELECT COMPANY_NO, COMPANY_CONTENT, COMPANY_TEL, COMPANY_NUMBER, COMPANY_ADDR, COMPANY_IMG
		FROM COMPANY
	</select>
	
	
	
	<insert id="insert" parameterType="CompanyDto" useGeneratedKeys="true" keyProperty="company_no"  keyColumn="COMPANY_NO">
		INSERT INTO COMPANY (COMPANY_NO, COMPANY_NAME, MEMBER_NO, COMPANY_SORT, COMPANY_CONTENT,
		COMPANY_TEL, COMPANY_NUMBER, COMPANY_IMG, COMPANY_ADDR, COMPANY_CITY)
		VALUES(COMPANY_SEQ.NEXTVAL, #{company_name}, #{member_no}, #{company_sort}, #{company_content}, 
		#{company_tel}, #{company_number}, #{company_img},
		#{company_addr} , #{company_city})
	</insert>
	
	<update id="updateMemberGrade" parameterType="int">
		UPDATE MEMBER SET MEMBER_GRADE = 2
		WHERE MEMBER_GRADE = 1
		AND MEMBER_NO = #{member_no}
	</update>

</mapper>

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.plan">
	<insert id="planListInsert" parameterType="int">
		INSERT INTO PLANLIST VALUES(PLANLIST_SEQ.NEXTVAL, #{member_no}, SYSDATE);
	</insert>
	
	<insert id="planInsert" parameterType="java.util.List">
		INSERT INTO PLAN VALUES
		<foreach collection="list" item="dto">
			(#{dto.plan_no},#{dto.company_no},#{dto.plan_time},#{dto.plan_price})
		</foreach>
	</insert>
	<select id="nowPlanNo" resultType="String">
		SELECT LAST_NUMBER 
		FROM USER_SEQUENCES 
		WHERE SEQUENCE_NAME = 'PLANLIST_SEQ';
	</select>
</mapper>